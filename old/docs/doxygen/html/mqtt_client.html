<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DA16200 SDK: MQ Telemetry Transport (MQTT)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DA16200 SDK<span id="projectnumber">&#160;3.2.5.0</span>
   </div>
   <div id="projectbrief">Ultra-low power Wi-Fi SoC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mqtt_client.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">MQ Telemetry Transport (MQTT) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_md_files_md_mqtt_client"></a></p>
<h1><a class="anchor" id="autotoc_md18"></a>
Overview</h1>
<p >MQTT (Message Queue Telemetry Transport) is an ISO standard (ISO/IEC PRF 20922) publish-subscribe-based messaging protocol. It works on top of the TCP/IP protocol. The publisher sends (PUBLISH) messages to the subscriber through the broker. The subscriber needs to keep the connection with the broker by TCP session while the publisher can disconnect the session with the broker after sending a message. <br  />
once the broker receives a message with a specific topic it sends the message to subscribers which already registered with the topic. A subscriber can register with more than one topic. There can be many or no subscribers which registered with a specific topic. <br  />
<img src="../image_files/mqtt_concept.png" alt="mqtt_concept" class="inline"/> <br  />
The exchange of MQTT messages supports QoS (Quality of Service). QoS has 3 levels (0, 1 and 2) and the process of each QoS level is as below. <br  />
The DA16200 supports both publisher and subscriber functions and allows simultaneous use. The subscriber function supports DPM mode. TLS is available for message encryption. <br  />
 </p>
<h1><a class="anchor" id="autotoc_md19"></a>
Features:</h1>
<ul>
<li>Basically Use One TCP port including both Subscriber and Publisher</li>
<li>Support TLS, QoS, Log-in, Keep-Alive, Client ID setting</li>
<li>Support DPM with MQTT Auto-start</li>
<li>If disconnected, Reconnection Procedure operates.</li>
<li>Support one-port MQTT including Subscriber and Publisher, if user wants.</li>
</ul>
<h1><a class="anchor" id="autotoc_md20"></a>
APIs</h1>
<ul>
<li>Start MQTT Client <br  />
<blockquote class="doxtable">
<p >&zwj;<a class="el" href="mqtt__client_8h.html#a204866cef5401cb0a506d956c263ec0a">mqtt_client_start</a> <br  />
</p>
</blockquote>
- Stop MQTT Client <br  />
<blockquote class="doxtable">
<p >&zwj;<a class="el" href="mqtt__client_8h.html#a8b095c453981f59e8ad14f4673b5c64e">mqtt_client_stop</a> <br  />
</p>
</blockquote>
- Check MQTT Client Connection <br  />
<blockquote class="doxtable">
<p >&zwj;<a class="el" href="mqtt__client_8h.html#a63f41b7b15ac2813c07fb2acddc6a533">mqtt_client_check_conn</a> <br  />
</p>
</blockquote>
<br  />
</li>
<li>Send MQTT PUBLISH message <br  />
<blockquote class="doxtable">
<p >&zwj;<a class="el" href="mqtt__client_8h.html#a330eef850e9013918ca38b432eee23e1">mqtt_client_send_message</a> <br  />
</p>
</blockquote>
- Send MQTT PUBLISH message with timeout check <br  />
<blockquote class="doxtable">
<p >&zwj;<a class="el" href="mqtt__client_8h.html#aeb2fb49c37843a6bc997fb9e9ede6d37">mqtt_client_send_message_with_qos</a> <br  />
</p>
</blockquote>
\</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="applications.html">Applications</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
